FAIL
Kernel panic in run: PANIC at ../../filesys/inode.c:305 in inode_allow_write(): assertion `inode->deny_write_cnt <= inode->open_cnt' failed.
Call stack: 0x8004218675 0x8004220805 0x800421f60b 0x800421f3b8 0x800421de46 0x800421c52d 0x8004207347 0x800421d8fa 0x800421d4ad 0x8004209658 0x8004209a76 0x800421de0a 0x800421c52d 0x8004207347 0x800421d8fa 0x800421d4ad 0x8004209658 0x8004209a76 0x800421de0a 0x800421c52d 0x8004207347 0x800421d8fa 0x800421d4ad 0x8004209658 0x8004209a76 0x800421de0a 0x800421c52d 0x8004207347 0x800421d8fa 0x800421d4ad 0x8004209658 0x8004209a76 0x800421de0a 0x800421c52d 0x8004207347 0x800421d8fa 0x800421d4ad 0x8004209658 0x8004209a76 0x800421c487 0x8004206773 0x80042068c0 0x800420617a
Translation of call stack:
0x0000008004218675: debug_panic (lib/kernel/debug.c:32)
0x0000008004220805: inode_allow_write (filesys/inode.c:306)
0x000000800421f60b: file_allow_write (filesys/file.c:137)
0x000000800421f3b8: file_close (filesys/file.c:56)
0x000000800421de46: close (userprog/syscall.c:279)
0x000000800421c52d: process_exit (userprog/process.c:329 (discriminator 3))
0x0000008004207347: thread_exit (threads/thread.c:340)
0x000000800421d8fa: fork (userprog/syscall.c:150)
0x000000800421d4ad: syscall_entry (??:?)
0x0000008004209658: intr_handler (threads/interrupt.c:352)
0x0000008004209a76: intr_entry (threads/intr-stubs.o:?)
0x000000800421de0a: close (userprog/syscall.c:272)
0x000000800421c52d: process_exit (userprog/process.c:329 (discriminator 3))
0x0000008004207347: thread_exit (threads/thread.c:340)
0x000000800421d8fa: fork (userprog/syscall.c:150)
0x000000800421d4ad: syscall_entry (??:?)
0x0000008004209658: intr_handler (threads/interrupt.c:352)
0x0000008004209a76: intr_entry (threads/intr-stubs.o:?)
0x000000800421de0a: close (userprog/syscall.c:272)
0x000000800421c52d: process_exit (userprog/process.c:329 (discriminator 3))
0x0000008004207347: thread_exit (threads/thread.c:340)
0x000000800421d8fa: fork (userprog/syscall.c:150)
0x000000800421d4ad: syscall_entry (??:?)
0x0000008004209658: intr_handler (threads/interrupt.c:352)
0x0000008004209a76: intr_entry (threads/intr-stubs.o:?)
0x000000800421de0a: close (userprog/syscall.c:272)
0x000000800421c52d: process_exit (userprog/process.c:329 (discriminator 3))
0x0000008004207347: thread_exit (threads/thread.c:340)
0x000000800421d8fa: fork (userprog/syscall.c:150)
0x000000800421d4ad: syscall_entry (??:?)
0x0000008004209658: intr_handler (threads/interrupt.c:352)
0x0000008004209a76: intr_entry (threads/intr-stubs.o:?)
0x000000800421de0a: close (userprog/syscall.c:272)
0x000000800421c52d: process_exit (userprog/process.c:329 (discriminator 3))
0x0000008004207347: thread_exit (threads/thread.c:340)
0x000000800421d8fa: fork (userprog/syscall.c:150)
0x000000800421d4ad: syscall_entry (??:?)
0x0000008004209658: intr_handler (threads/interrupt.c:352)
0x0000008004209a76: intr_entry (threads/intr-stubs.o:?)
0x000000800421c487: process_wait (userprog/process.c:303)
0x0000008004206773: run_task (threads/init.c:252)
0x00000080042068c0: run_actions (threads/init.c:297)
0x000000800420617a: main (threads/init.c:125)
